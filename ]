import { ErrorResponse } from "@common/types/error-response"
import { SrpData } from "@common/types/srp-data"
import { useState } from "react"

export enum LoginState {
  DoLogin = "DoLogin",
  ChangePasswordChallenge = "ChangePasswordChallenge",
  MfaChallenge = "MfaChallenge"
}

export const useLoginBox = () => {
  const [errorMessage, setErrorMessage] = useState<ErrorResponse | undefined>()
  const [loginState, setLoginState] = useState<LoginState>(LoginState.DoLogin)
  const onSubmit = async () => {
    try {
      await login("foo", "bar")
    } catch (error) {
      setErrorMessage({ message: error.message })
    }
  }
  return { errorMessage, onSubmit, loginState }
}
